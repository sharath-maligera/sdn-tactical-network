import mgen
import datetime

sender = mgen.Controller("sender")

flow1 = mgen.Flow(1, sender)
flow1.set_protocol('UDP')
flow1.set_source('5000')
flow1.set_destination('192.168.0.2', 5000)
flow1.set_pattern('PERIODIC [100 1024]')
flow1.set_tos('0x1e')
now1 = datetime.datetime.now().strftime("%Y-%m-%dT%H:%M:%S.%f")
payload1 = mgen.get_payload_from_string(now1)
flow1.set_text_payload(payload1)
flow1.start()

flow2 = mgen.Flow(2, sender)
flow2.set_protocol('UDP')
flow2.set_source('5001')
flow2.set_destination('192.168.0.2', 5000)
flow2.set_pattern('PERIODIC [100 1024]')
flow2.set_tos('0x16')
now2 = datetime.datetime.now().strftime("%Y-%m-%dT%H:%M:%S.%f")
payload2 = mgen.get_payload_from_string(now2)
flow2.set_text_payload(payload2)
flow2.start()

flow3 = mgen.Flow(3, sender)
flow3.set_protocol('UDP')
flow3.set_source('5002')
flow3.set_destination('192.168.0.2', 5000)
flow3.set_pattern('PERIODIC [100 1024]')
flow3.set_tos('0x0e')
now3 = datetime.datetime.now().strftime("%Y-%m-%dT%H:%M:%S.%f")
payload3 = mgen.get_payload_from_string(now3)
flow3.set_text_payload(payload3)
flow3.start()

flow4 = mgen.Flow(4, sender)
flow4.set_protocol('UDP')
flow4.set_source('5003')
flow4.set_destination('192.168.0.2', 5000)
flow4.set_pattern('PERIODIC [100 1024]')
flow4.set_tos('0x04')
now4 = datetime.datetime.now().strftime("%Y-%m-%dT%H:%M:%S.%f")
payload4 = mgen.get_payload_from_string(now4)
flow4.set_text_payload(payload4)
flow4.start()

flow5 = mgen.Flow(5, sender)
flow5.set_protocol('UDP')
flow5.set_source('5004')
flow5.set_destination('192.168.0.2', 5000)
flow5.set_pattern('PERIODIC [100 1024]')
flow5.set_tos('0x00')
now5 = datetime.datetime.now().strftime("%Y-%m-%dT%H:%M:%S.%f")
payload5 = mgen.get_payload_from_string(now5)
flow5.set_text_payload(payload5)
flow5.start()